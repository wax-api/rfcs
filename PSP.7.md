# 项目动态页面(Project Setting Page)
- 状态：Draft
- 作者：Zhang Ji zhangji@parsec.com.cn

## 1. 默认布局
1. 所有页面包含：a)位于左边的sidebar区域，用于显示列表结构。；b)位于右边的container区域。
2. sidebar是一个菜单列表，包含以下菜单项：a)项目设置；b)鉴权设置；c)Schema Lambda；d)Data Lambda。
3. 「项目设置」菜单项的sidebar只有一级菜单（主功能），其余菜单项都有二级菜单。

## 2. 主功能-项目设置
1. 应该显示「导入wax DSL」按钮，点击弹出文件上传控件。
2. 应该显示「导出wax DSL」按钮，点击弹出文件下载控件。
3. 应该显示“删除项目”文字，和「删除当前项目」按钮（如果当前用户无项目管理权限则不显示）。
   * 点击按钮应该弹出模态框。
   * 模态框应该显示如下文字：“删除项目：{项目名称}”。
   * 模态框应该显示如下文字：“重要提示：删除项目后，所有内容都会被立即删除，不可恢复。”。
   * 模态框应该包含form表单，输入项包括：a)当前用户的登录密码；b)「确认删除」和「取消」按钮。

## 3. 主功能-鉴权设置
### 3.1 sidebar区域
1. 二级菜单的所有节点都是鉴权Schema名称，鉴权Schema名称按字典序排序。
2. 打开二级菜单页面，默认不选中任何鉴权Schema，container区域显示空白。
3. 顶部应该显示「添加鉴权Schema」按钮，点击按钮应该弹出模态框。
   * 模态框应该包含form表单，输入项包括：a)鉴权Schema名；b)「提交」和「取消」按钮。
   * 提交添加鉴权Schema后，二级菜单应该出现并选中新的鉴权Schema名称。
4. 鼠标hover在鉴权Schema名称节点时，应该显示「删除鉴权Schema」按钮。
5. 点击「删除鉴权Schema」按钮，应该弹出模态框。
   * 应该显示如下：“是否确认删除鉴权Schema {鉴权Schema名} ？”
   * 模态框应该包含「确认删除」按钮和「取消」按钮。
   * 删除之后二级菜单不选中任何鉴权Schema，container区域显示空白。

### 3.2. container区域
### 3.2.1. 概述
1. container区域用来表示鉴权Schema详情。
2. container区域顶部应该显示tab，包含：a)预览；b)编辑。

### 3.2.2. 预览tab
1. 应该显示鉴权Schema名称和「更改」按钮。
   * 点击「更改」按钮应该弹出模态框。
   * 模态框应该包含form表单，输入项包括：a)鉴权Schema名称；b)「更改」和「取消」按钮。
2. 应该显示鉴权Schema内容。

### 3.2.3. 编辑tab
1. 应该显示鉴权Schema名称。
2. 应该显示form表单，输入项包括：a)Schema内容（JSON5编辑控件）；b)「保存」和「取消」按钮。
   * 「保存」按钮在无修改时应该为disabled。
   * 如果「保存」按钮可以点击，并且保存成功，则「保存」按钮变为disabled。
   * 点击「取消」按钮，则切换到预览tab，并且放弃从上次保存至今所有的修改。
3. 如果Schema内容有修改但未保存，在离开当前tab时，修改将被丢弃。
   * 丢弃修改内容前应弹出confirm控件进行提醒。

## 4. 主功能-Schema Lambda
1. Schema Lambda页面应该参照「3. 主功能-鉴权设置」定义实现。
2. 与鉴权设置的主要的区别是编辑tab应该使用python编辑控件。

## 5. 主功能-Data Lambda
1. Data Lambda页面应该参照「4. 主功能-Schema Lambda」定义实现。
