# 项目实体页面(Project Entity Page)
- 状态：Draft
- 作者：Zhang Ji zhangji@parsec.com.cn

## 1. 默认布局
1. 所有页面包含：a)位于左边的sidebar区域，用于显示列表结构。；b)位于右边的container区域。

## 2. sidebar区域
1. 列表上所有节点都是实体名称，实体名称按字典序排序。
2. 打开项目实体页面，默认不选中任何实体，container区域显示空白。
3. 顶部应该显示「添加实体」按钮，点击按钮应该弹出模态框。
   * 模态框应该包含form表单，输入项包括：a)实体名；b)「提交」和「取消」按钮。
   * 提交添加实体后，sidebar应该出现并选中新的实体名称。
4. 鼠标hover在实体名称节点时，应该显示「删除实体」按钮。
5. 点击「删除实体」按钮，应该弹出模态框。
   * 应该显示如下：“是否确认删除实体 {实体名} ？”
   * 模态框应该包含「确认删除」按钮和「取消」按钮。
   * 删除之后sidebar区域不选中任何实体，container区域显示空白。

## 3. container区域
### 3.1. 概述
1. container区域用来表示实体详情。
2. container区域顶部应该显示tab，包含：a)预览；b)编辑。

### 3.2. 实体详情-预览tab
1. 应该显示实体名称和「更改」按钮。
   * 点击「更改」按钮应该弹出模态框。
   * 模态框应该包含form表单，输入项包括：a)实体名称；b)「更改」和「取消」按钮。
2. 应该显示实体Schema内容。

### 3.3. 实体详情-编辑tab
1. 应该显示实体名称。
2. 应该显示form表单，输入项包括：a)Schema内容（JSON5编辑控件）；b)「保存」和「取消」按钮。
   * 「保存」按钮在无修改时应该为disabled。
   * 如果「保存」按钮可以点击，并且保存成功，则「保存」按钮变为disabled。
   * 点击「取消」按钮，则切换到预览tab，并且放弃从上次保存至今所有的修改。
3. 如果Schema内容有修改但未保存，在离开当前tab时，修改将被丢弃。
   * 丢弃修改内容前应弹出confirm控件进行提醒。
